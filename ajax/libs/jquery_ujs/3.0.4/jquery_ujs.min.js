(function(e,k){e.rails!==k&&e.error("jquery-ujs has already been loaded!");var c,g=e(document);e.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",
enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(a){var b=e('meta[name="csrf-token"]').attr("content");b&&a.setRequestHeader("X-CSRF-Token",b)},fire:function(a,b,c){b=e.Event(b);a.trigger(b,c);return!1!==b.result},confirm:function(a){return confirm(a)},
ajax:function(a){return e.ajax(a)},href:function(a){return a.attr("href")},handleRemote:function(a){var b,d,f,h,g,l;if(c.fire(a,"ajax:before")){d=a.data("cross-domain");h=d===k?null:d;g=a.data("with-credentials")||null;l=a.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(a.is("form")){b=a.attr("method");d=a.attr("action");f=a.serializeArray();var m=a.data("ujs:submit-button");m&&(f.push(m),a.data("ujs:submit-button",null))}else a.is(c.inputChangeSelector)?(b=a.data("method"),d=a.data("url"),
f=a.serialize(),a.data("params")&&(f=f+"&"+a.data("params"))):a.is(c.buttonClickSelector)?(b=a.data("method")||"get",d=a.data("url"),f=a.serialize(),a.data("params")&&(f=f+"&"+a.data("params"))):(b=a.data("method"),d=c.href(a),f=a.data("params")||null);b={type:b||"GET",data:f,dataType:l,beforeSend:function(b,d){d.dataType===k&&b.setRequestHeader("accept","*/*;q=0.5, "+d.accepts.script);return c.fire(a,"ajax:beforeSend",[b,d])},success:function(b,c,d){a.trigger("ajax:success",[b,c,d])},complete:function(b,
c){a.trigger("ajax:complete",[b,c])},error:function(b,c,d){a.trigger("ajax:error",[b,c,d])},crossDomain:h};g&&(b.xhrFields={withCredentials:g});d&&(b.url=d);d=c.ajax(b);a.trigger("ajax:send",d);return d}return!1},handleMethod:function(a){var b=c.href(a),d=a.data("method");a=a.attr("target");var f=e("meta[name=csrf-token]").attr("content"),h=e("meta[name=csrf-param]").attr("content"),b=e('<form method="post" action="'+b+'"></form>'),d='<input name="_method" value="'+d+'" type="hidden" />';h!==k&&f!==
k&&(d+='<input name="'+h+'" value="'+f+'" type="hidden" />');a&&b.attr("target",a);b.hide().append(d).appendTo("body");b.submit()},disableFormElements:function(a){a.find(c.disableSelector).each(function(){var a=e(this),c=a.is("button")?"html":"val";a.data("ujs:enable-with",a[c]());a[c](a.data("disable-with"));a.prop("disabled",!0)})},enableFormElements:function(a){a.find(c.enableSelector).each(function(){var a=e(this),c=a.is("button")?"html":"val";if(a.data("ujs:enable-with"))a[c](a.data("ujs:enable-with"));
a.prop("disabled",!1)})},allowAction:function(a){var b=a.data("confirm"),d=!1,e;if(!b)return!0;c.fire(a,"confirm")&&(d=c.confirm(b),e=c.fire(a,"confirm:complete",[d]));return d&&e},blankInputs:function(a,b,c){var f=e(),h,g,k=a.find(b||"input,textarea");k.each(function(){h=e(this);g=h.is("input[type=checkbox],input[type=radio]")?h.is(":checked"):h.val();if(!g===!c){if(h.is("input[type=radio]")&&k.filter('input[type=radio]:checked[name="'+h.attr("name")+'"]').length)return!0;f=f.add(h)}});return f.length?
f:!1},nonBlankInputs:function(a,b){return c.blankInputs(a,b,!0)},stopEverything:function(a){e(a.target).trigger("ujs:everythingStopped");a.stopImmediatePropagation();return!1},disableElement:function(a){a.data("ujs:enable-with",a.html());a.html(a.data("disable-with"));a.bind("click.railsDisable",function(a){return c.stopEverything(a)})},enableElement:function(a){a.data("ujs:enable-with")!==k&&(a.html(a.data("ujs:enable-with")),a.removeData("ujs:enable-with"));a.unbind("click.railsDisable")}};c.fire(g,
"rails:attachBindings")&&(e.ajaxPrefilter(function(a,b,d){a.crossDomain||c.CSRFProtection(d)}),g.delegate(c.linkDisableSelector,"ajax:complete",function(){c.enableElement(e(this))}),g.delegate(c.linkClickSelector,"click.rails",function(a){var b=e(this),d=b.data("method"),f=b.data("params");if(!c.allowAction(b))return c.stopEverything(a);b.is(c.linkDisableSelector)&&c.disableElement(b);if(b.data("remote")!==k){if((a.metaKey||a.ctrlKey)&&!(d&&"GET"!==d||f))return!0;a=c.handleRemote(b);!1===a?c.enableElement(b):
a.error(function(){c.enableElement(b)});return!1}if(b.data("method"))return c.handleMethod(b),!1}),g.delegate(c.buttonClickSelector,"click.rails",function(a){var b=e(this);if(!c.allowAction(b))return c.stopEverything(a);c.handleRemote(b);return!1}),g.delegate(c.inputChangeSelector,"change.rails",function(a){var b=e(this);if(!c.allowAction(b))return c.stopEverything(a);c.handleRemote(b);return!1}),g.delegate(c.formSubmitSelector,"submit.rails",function(a){var b=e(this),d=b.data("remote")!==k,f=c.blankInputs(b,
c.requiredInputSelector),g=c.nonBlankInputs(b,c.fileInputSelector);if(!c.allowAction(b)||f&&b.attr("novalidate")==k&&c.fire(b,"ajax:aborted:required",[f]))return c.stopEverything(a);if(d){if(g)return setTimeout(function(){c.disableFormElements(b)},13),(a=c.fire(b,"ajax:aborted:file",[g]))||setTimeout(function(){c.enableFormElements(b)},13),a;c.handleRemote(b);return!1}setTimeout(function(){c.disableFormElements(b)},13)}),g.delegate(c.formInputClickSelector,"click.rails",function(a){var b=e(this);
if(!c.allowAction(b))return c.stopEverything(a);a=(a=b.attr("name"))?{name:a,value:b.val()}:null;b.closest("form").data("ujs:submit-button",a)}),g.delegate(c.formSubmitSelector,"ajax:beforeSend.rails",function(a){this==a.target&&c.disableFormElements(e(this))}),g.delegate(c.formSubmitSelector,"ajax:complete.rails",function(a){this==a.target&&c.enableFormElements(e(this))}),e(function(){var a=e("meta[name=csrf-token]").attr("content"),b=e("meta[name=csrf-param]").attr("content");e('form input[name="'+
b+'"]').val(a)}))})(jQuery);
//# sourceMappingURL=jquery_ujs.min.map
